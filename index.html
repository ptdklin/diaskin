<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Проверка здоровья коллектива</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #1a365d;
            --primary-light: #2d3748;
            --primary-dark: #0f172a;
            --secondary: #2b6cb0;
            --accent: #3182ce;
            --success: #38a169;
            --error: #e53e3e;
            --warning: #dd6b20;
            --gray-50: #f7fafc;
            --gray-100: #edf2f7;
            --gray-200: #e2e8f0;
            --gray-300: #cbd5e0;
            --gray-400: #a0aec0;
            --gray-500: #718096;
            --gray-600: #4a5568;
            --gray-800: #2d3748;
            --gray-900: #1a202c;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            font-size: 18px;
            line-height: 1.6;
            color: var(--gray-900);
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            font-weight: 400;
            -webkit-font-smoothing: antialiased;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 40px 10px;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--gray-200);
        }

        .section {
            margin-bottom: 40px;
            background: white;
            border-radius: 12px;
            padding: 32px 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border: none;
        }

        h2 {
            font-size: 32px;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 3px solid var(--accent);
            line-height: 1.3;
        }

        h3 {
            font-size: 24px;
            font-weight: 600;
            color: var(--primary-dark);
            margin-bottom: 16px;
            margin-top: 24px;
            line-height: 1.3;
        }

        p {
            margin-bottom: 16px;
            color: var(--gray-700);
            line-height: 1.6;
            font-size: 18px;
        }

        .intro {
            background: white;
            padding: 32px 20px;
            border-radius: 12px;
            margin-bottom: 32px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border: none;
        }

        .important-points {
            margin: 20px 0;
        }

        .point {
            display: flex;
            align-items: flex-start;
            margin-bottom: 12px;
            padding: 16px;
            background: var(--gray-50);
            border-radius: 8px;
            border-left: 4px solid var(--accent);
            font-size: 18px;
        }

        .point-bullet {
            color: var(--accent);
            margin-right: 12px;
            font-weight: 600;
            min-width: 20px;
            margin-top: 2px;
            font-size: 18px;
        }

        .highlight-box {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            padding: 24px;
            border-radius: 10px;
            margin: 20px 0;
            color: white;
            font-size: 18px;
            border: none;
        }

        .warning-box {
            background: #fffaf0;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid var(--warning);
            color: var(--gray-800);
            font-size: 18px;
        }

        .characteristics {
            display: grid;
            gap: 12px;
            margin: 20px 0;
        }

        .characteristic {
            padding: 16px;
            background: var(--gray-50);
            border-radius: 8px;
            font-weight: 500;
            border: 1px solid var(--gray-200);
            transition: all 0.2s ease;
            font-size: 18px;
        }

        .characteristic:hover {
            border-color: var(--accent);
            background: white;
        }

        .test-container {
            margin-top: 32px;
        }

        .question {
            margin-bottom: 32px;
            padding: 28px 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border: none;
        }

        .answers {
            display: grid;
            gap: 10px;
        }

        .answer {
            padding: 16px;
            background: white;
            border: 2px solid var(--gray-300);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 500;
            font-size: 18px;
        }

        .answer:hover {
            border-color: var(--accent);
            background: var(--gray-50);
        }

        .correct {
            background: #f0fff4 !important;
            border-color: var(--success) !important;
            color: var(--gray-800);
        }

        .incorrect {
            background: #fff5f5 !important;
            border-color: var(--error) !important;
            color: var(--gray-800);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            padding: 28px;
            border-radius: 12px;
            text-align: center;
            max-width: 600px;
            width: 90%;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            border: none;
        }

        .modal h2 {
            color: var(--success);
            margin-bottom: 16px;
            border: none;
            font-size: 26px;
            line-height: 1.3;
        }

        .next-block {
            display: none;
            background: var(--success);
            padding: 32px;
            border-radius: 12px;
            text-align: left;
            margin-top: 32px;
            color: white;
            font-size: 18px;
            border: none;
        }

        .subsection {
            margin-top: 28px;
        }

        .subsection-content {
            margin-top: 16px;
        }

        .emphasis {
            font-weight: 600;
            color: var(--accent);
            font-size: 18px;
        }

        .image-comparison {
            text-align: center;
            margin: 20px 0;
        }

        .image-comparison img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .image-caption {
            margin-top: 8px;
            font-style: italic;
            color: var(--gray-600);
            text-align: center;
            font-size: 16px;
        }

        .ct-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 16px 0;
        }

        .ct-option {
            padding: 16px;
            background: white;
            border: 2px solid var(--gray-300);
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            transition: all 0.2s ease;
            font-size: 18px;
        }

        .ct-option:hover {
            border-color: var(--accent);
            background: var(--gray-50);
        }

        .result-image {
            margin: 16px 0;
            text-align: center;
        }

        .result-image img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .final-highlight {
            background: var(--primary);
            padding: 28px;
            border-radius: 12px;
            margin: 28px 0;
            color: white;
            text-align: center;
            font-size: 18px;
            border: none;
        }

        .final-highlight h3 {
            color: white;
            font-size: 24px;
            margin-bottom: 12px;
            line-height: 1.3;
        }

        .final-highlight p {
            color: white;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 0;
        }

        .conclusion-box {
            background: var(--success);
            padding: 32px;
            border-radius: 12px;
            margin: 28px 0;
            color: white;
            text-align: center;
            font-size: 18px;
            border: none;
        }

        .conclusion-box p {
            color: white;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 0;
            line-height: 1.5;
        }

        .author-signature {
            display: none;
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: var(--gray-500);
            font-size: 16px;
            border-top: 1px solid var(--gray-200);
        }

        .blinking-modal {
            animation: blink 2s ease-in-out 3;
        }

        @keyframes blink {
            0%, 100% { 
                transform: scale(1);
                box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            }
            50% { 
                transform: scale(1.05);
                box-shadow: 0 20px 45px rgba(37, 99, 235, 0.4);
            }
        }

        .important-modal .modal-content {
            border: none;
            background: linear-gradient(135deg, #fffaf0 0%, #fed7d7 100%);
        }

        .important-modal h3 {
            color: var(--warning);
            font-size: 24px;
            margin-bottom: 16px;
            line-height: 1.3;
        }

        .important-modal p {
            color: var(--gray-800);
            font-size: 18px;
            font-weight: 600;
            line-height: 1.5;
        }

        @media (max-width: 768px) {
            .container {
                padding: 24px 8px;
            }
            h2 { font-size: 28px; }
            h3 { font-size: 22px; }
            .intro { padding: 24px 16px; }
            .question { padding: 24px 16px; }
            body { font-size: 17px; }
            .ct-options { grid-template-columns: 1fr; }
            .section { padding: 24px 16px; }
            p { font-size: 17px; }
            .point { font-size: 17px; }
            .characteristic { font-size: 17px; }
            .answer { font-size: 17px; }
            .emphasis { font-size: 17px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <!-- Убрал заголовок "Проверка здоровья коллектива" -->
        </header>
        
        <section class="intro">
            <h2>Информация об обследовании на туберкулез в Вашем коллективе</h2>
            <p>В связи с подтверждённым или предполагаемым случаем туберкулёза в Вашем учреждении проводится обязательное обследование. <span class="emphasis">Цель</span> — защитить здоровье каждого и остановить распространение инфекции.</p>
            
            <h3>Что нужно сделать:</h3>
            <div class="point">
                <div class="point-bullet">•</div>
                <div><span class="emphasis">Сотрудникам и учащимся:</span> пройти обязательное обследование.</div>
            </div>
            <div class="point">
                <div class="point-bullet">•</div>
                <div><span class="emphasis">Администрации:</span> организовать и обеспечить проведение обследования для всего коллектива.</div>
            </div>
            
            <h3>Почему это обязательно?</h3>
            <p>Это требование ст. 6.3 КоАП РФ, направленное на обеспечение безопасности коллектива. Своевременное обследование — единственный надёжный способ раннего выявления инфекции и предотвращения её распространения.</p>
            
            <h3>Последствия невыполнения:</h3>
            <div class="point">
                <div class="point-bullet">•</div>
                <div><span class="emphasis">Для сотрудников и учащихся:</span> временное отстранение от работы или учёбы, невозможность пребывания в коллективе.</div>
            </div>
            <div class="point">
                <div class="point-bullet">•</div>
                <div><span class="emphasis">Для руководителей:</span> административная ответственность за нарушение санитарных норм.</div>
            </div>
            
            <h3>Особое внимание:</h3>
            <div class="point warning-box" style="margin: 16px 0; padding: 16px; border-left: 4px solid var(--warning);">
                <div class="point-bullet">•</div>
                <div>В детских коллективах несвоевременное выявление туберкулёза особенно опасно из-за большей уязвимости иммунной системы детей.</div>
            </div>
            
            <div class="point" style="margin: 16px 0; padding: 16px; background: #fff5f5; border-left: 4px solid var(--error); border-radius: 8px;">
                <div class="point-bullet">•</div>
                <div>При нарушении правил профилактики, если это привело к заражению других, ответственность может быть уголовной (ст. 236 УК РФ).</div>
            </div>
        </section>

        <section class="section">
            <h2>Ключевые факты о туберкулезе</h2>
            <div class="important-points">
                <div class="point">
                    <div class="point-bullet">•</div>
                    <div><span class="emphasis">Коварство болезни:</span> в большинстве случаев долго протекает бессимптомно - человек чувствует себя здоровым, хотя уже болеет и может быть источником инфекции.</div>
                </div>
                <div class="point">
                    <div class="point-bullet">•</div>
                    <div><span class="emphasis">Флюорография не выявляет ранние изменения.</span> Для своевременного выявления эффективны<span class="emphasis"> Диаскинтест</span> и <span class="emphasis">компьютерная томография (КТ)</span>.</div>
                </div>
            </div>
        </section>

        <section class="section">
            <h2>Этапы диагностики, которые мы пройдем</h2>
            
            <div class="subsection">
                <h3>1-й этап. Узнаем, попала ли инфекция в организм — поставим кожную пробу Диаскинтест</h3>
                <div class="subsection-content">
                    <div class="characteristics">
                        <div class="characteristic">
                            <span class="emphasis">Что это?</span> Современный иммунный внутрикожный тест, предназначенный для точного выявления активной туберкулезной инфекции.
                        </div>
                        <div class="characteristic">
                            <span class="emphasis">Это не прививка.</span> Безопасен, не содержит живых бактерий и практически не проникает в кровоток.
                        </div>
                        <div class="characteristic">
                            <span class="emphasis">Как проходит?</span> Вводится внутрикожно. Результат оценивают через 72 часа (3 суток) после постановки пробы. Можно мочить, но нельзя рассчёсывать.
                        </div>
                    </div>
                    
                    <div class="warning-box">
                        <span class="emphasis">Важно знать!</span> Если заражение было совсем недавно, тест может быть отрицательным — иммунная система ещё «не успела понять», что человек инфицирован.<span class="emphasis"> Обследование нужно повторить через 3, 6 и 12 месяцев.</span>
                    </div>
                </div>
            </div>

            <div class="subsection">
                <h3>2-й этап. Проверим легкие</h3>
                <div class="subsection-content">
                    <p>В зависимости от результата теста, для уточнения диагноза используется:</p>
                    
                    <div class="point">
                        <div class="point-bullet">•</div>
                        <div><span class="emphasis">Отрицательный результат пробы Диаскинтест</span> → проводится <span class="emphasis">рентгенография легких</span>.</div>
                    </div>
                    <div class="point">
                        <div class="point-bullet">•</div>
                        <div><span class="emphasis">Положительный результат пробы</span> → <span class="emphasis">компьютерная томография (КТ) лёгких</span>, позволяющая увидеть мельчайшие изменения.</div>
                    </div>
                    
                    <div class="highlight-box">
                        Просим ответственно отнестись к обследованию — вместе мы делаем среду безопасной для всех.
                    </div>
                </div>
            </div>
        </section>

        <!-- Уровень 1: Основной тест -->
        <section class="section" id="knowledgeTest">
            <h2>Промежуточный контроль знаний</h2>
            
            <div class="test-container">
                <div class="question" id="question1">
                    <h3>Диаскинтест — это прививка?</h3>
                    <div class="answers">
                        <div class="answer" data-correct="false">Да</div>
                        <div class="answer" data-correct="true">Нет</div>
                    </div>
                </div>
                
                <div class="question" id="question2">
                    <h3>Когда оценивают результат Диаскинтеста?</h3>
                    <div class="answers">
                        <div class="answer" data-correct="false">Сразу после постановки</div>
                        <div class="answer" data-correct="true">Через 3 дня</div>
                        <div class="answer" data-correct="false">Через неделю</div>
                    </div>
                </div>
                
                <div class="question" id="question3">
                    <h3>Если Диаскинтест положительный, что нужно сделать?</h3>
                    <div class="answers">
                        <div class="answer" data-correct="false">Повторить тест через месяц</div>
                        <div class="answer" data-correct="true">Сделать КТ лёгких</div>
                        <div class="answer" data-correct="false">Ничего не делать, подождать</div>
                    </div>
                </div>
                
                <div class="question" id="question4">
                    <h3>Если Диаскинтест отрицательный, но вы контактировали с больным туберкулёзом, что делать?</h3>
                    <div class="answers">
                        <div class="answer" data-correct="false">Можно не переживать</div>
                        <div class="answer" data-correct="false">Пройти КТ лёгких</div>
                        <div class="answer" data-correct="true">Пройти рентген и повторить тест через 3–6 месяцев</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Уровень 2: Визуальная диагностика (скрыт изначально) -->
        <section class="section" id="visualDiagnostics" style="display: none;">
            <h2>Визуальная диагностика: почему важен Диаскинтест</h2>
            
            <div class="subsection">
                <h3>Как правило, на флюорографии видны только крупные изменения в лёгких, на ранних стадиях изменения незаметны, потому что ещё «прячутся за ребрами»</h3>
                <div class="image-comparison">
                    <img src="image1.png" alt="Флюорограмма с изменениями">
                    <p class="image-caption">На этой флюорографии видны многочисленные пятна на фоне рёбер с обеих сторон. Процесс запущенный, поздно выявили.</p>
                </div>
            </div>

            <div class="subsection" id="interactiveCase">
                <h3>А сможете ли вы найти ранние изменения?</h3>
                
                <div class="question" id="fluorQuestion">
                    <h3>Есть ли на этой картинке изменения в лёгких?</h3>
                    <div class="image-comparison">
                        <img src="image2.png" alt="Чистая флюорограмма">
                    </div>
                    <div class="answers">
                        <div class="answer" data-fluor-correct="false">Да, вижу изменения</div>
                        <div class="answer" data-fluor-correct="true">Нет, все чисто</div>
                        <div class="answer" data-fluor-correct="false">Не уверен(а)</div>
                    </div>
                </div>

                <div class="question" id="ctQuestion" style="display: none;">
                    <h3>На вышепоказанной флюорографии лёгкие выглядят нормальными, хотя ранняя стадия туберкулёза уже есть. Теперь посмотрите на КТ того же пациента:</h3>
                    <div class="image-comparison">
                        <img src="image3.png" alt="КТ легких с очагом">
                    </div>
                    <h3>Попробуйте найти участок с изменениями. Где он находится на этой картинке? Не переживайте, очаг хорошо видно.</h3>
                    <div class="ct-options">
                        <div class="ct-option" data-ct-correct="false">Сверху слева на картинке</div>
                        <div class="ct-option" data-ct-correct="true">Сверху справа на картинке</div>
                        <div class="ct-option" data-ct-correct="false">Снизу слева на картинке</div>
                        <div class="ct-option" data-ct-correct="false">Снизу справа на картинке</div>
                    </div>
                </div>

                <div id="ctResult" style="display: none;">
                    <div class="final-highlight">
                        <h3>Вот он! Небольшой очаг справа вверху на картинке. Такие начальные изменения видны только на КТ.</h3>
                    </div>

                    <div class="image-comparison">
                        <img src="image4.png" alt="КТ с обведенным очагом">
                    </div>
                </div>

                <!-- Новое мигающее окно с важной информацией -->
                <div class="modal important-modal" id="preventionModal" aria-hidden="true">
                    <div class="modal-content blinking-modal" role="dialog" aria-modal="true" aria-labelledby="preventionTitle">
                        <h3 id="preventionTitle">❗ Важная информация</h3>
                        <p>Если при положительном Диаскинтесте на КТ изменений не обнаружено, врач назначает профилактическое лечение, которое предотвращает развитие болезни в будущем.</p>
                        <button id="preventionClose" style="padding:12px 24px; background:var(--warning); color:white; border:none; border-radius:8px; cursor:pointer; margin-top:20px; font-size:16px; font-weight:600;">
                            Понятно
                        </button>
                    </div>
                </div>

                <div id="conclusionBlock" style="display: none;">
                    <div class="conclusion-box" style="text-align: left; padding: 32px;">
                        <p style="margin-bottom: 20px; line-height: 1.5;">Диаскинтест — ключевой этап диагностики. Он помогает определить, кто нуждается в более тщательном обследовании с помощью КТ.</p>
                        
                        <p style="margin-bottom: 20px; line-height: 1.5;">Компьютерная томография (КТ) позволяет выявить туберкулёз на ранней стадии, когда лечение наиболее эффективно.</p>
                        
                        <p style="margin-bottom: 0; line-height: 1.5;">Если при положительном Диаскинтесте на КТ изменений не обнаружено, врач назначает профилактическое лечение, которое предотвращает развитие болезни в будущем.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Уровень 3: Финальная информация (скрыт изначально) -->
        <section class="next-block" id="finalInfo" style="display: none;">
            <h2 style="text-align: left; margin-bottom: 16px;">Дополнительная информация</h2>
            <p style="text-align: left;">После успешного прохождения тестов вы получили важные знания о диагностике туберкулеза. Помните, что своевременное обследование — это ответственность каждого сотрудника и забота о здоровье всего коллектива.</p>
            <p style="text-align: left;">Если у вас остались вопросы, обратитесь в противотуберкулезный диспансер.</p>
        </section>

        <!-- Подпись автора (скрыта изначально) -->
        <div class="author-signature" id="authorSignature">
            <p>Автор и разработчик: заведующий филиалом "Клинский" ГБУЗ МО МОКПТД Лукаш И.А.</p>
        </div>

        <div class="modal" id="successModal">
            <div class="modal-content">
                <h2>Поздравляю!</h2>
                <p>Тест пройден успешно.</p>
            </div>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const basicQuestions = document.querySelectorAll('#knowledgeTest .question');
        const successModal = document.getElementById('successModal');
        const knowledgeTest = document.getElementById('knowledgeTest');
        const visualDiagnostics = document.getElementById('visualDiagnostics');
        const finalInfo = document.getElementById('finalInfo');
        const authorSignature = document.getElementById('authorSignature');
        const ctResult = document.getElementById('ctResult');
        const conclusionBlock = document.getElementById('conclusionBlock');
        const preventionModal = document.getElementById('preventionModal');

        const ctReasonModal = document.createElement('div');
        ctReasonModal.className = 'modal';
        ctReasonModal.id = 'ctReasonModal';
        ctReasonModal.innerHTML = `
            <div class="modal-content" style="max-width:600px; text-align:center;">
                <p style="font-size:20px; font-weight:600; color:var(--gray-800); line-height:1.5;">
                    КТ назначен данному пациенту в связи с положительной пробой Диаскинтест; при отказе от теста КТ не назначалась бы.
                </p>
            </div>
        `;
        document.body.appendChild(ctReasonModal);

        let currentBasicQuestion = 0;
        let showFinalTimer = null;

        function initTest() {
            basicQuestions.forEach((q, i) => q.style.display = i === 0 ? 'block' : 'none');

            document.querySelectorAll('#knowledgeTest .answer').forEach(a =>
                a.addEventListener('click', handleBasicAnswerClick)
            );

            document.querySelectorAll('#fluorQuestion .answer').forEach(a =>
                a.addEventListener('click', handleFluorAnswerClick)
            );

            document.querySelectorAll('.ct-option').forEach(o =>
                o.addEventListener('click', handleCtOptionClick)
            );

            document.getElementById('preventionClose').addEventListener('click', closePreventionModal);

            ctResult.addEventListener('click', () => {
                clearTimeout(showFinalTimer);
                showCtReasonModal();
            });
        }

        function handleBasicAnswerClick(e) {
            const a = e.target;
            const ok = a.dataset.correct === 'true';
            a.classList.add(ok ? 'correct' : 'incorrect');
            setTimeout(() => {
                if (ok) showNextBasicQuestion();
                else a.classList.remove('incorrect');
            }, 800);
        }

        function handleFluorAnswerClick(e) {
            const a = e.target;
            const ok = a.dataset.fluorCorrect === 'true';
            a.classList.add(ok ? 'correct' : 'incorrect');
            if (!ok) return setTimeout(() => a.classList.remove('incorrect'), 800);

            setTimeout(() => {
                const q = document.getElementById('fluorQuestion');
                q.querySelector('.answers').style.display = 'none';
                q.querySelector('h3').textContent =
                    'Флюорограмма выглядит чистой, но это обманчиво...';

                const ctQ = document.getElementById('ctQuestion');
                ctQ.style.display = 'block';
                ctQ.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 800);
        }

        function handleCtOptionClick(e) {
            const o = e.target;
            const ok = o.dataset.ctCorrect === 'true';
            o.classList.add(ok ? 'correct' : 'incorrect');
            if (!ok) return setTimeout(() => o.classList.remove('incorrect'), 800);

            setTimeout(() => {
                document.getElementById('ctQuestion').style.display = 'none';
                ctResult.style.display = 'block';
                ctResult.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 800);
        }

        function showCtReasonModal() {
            ctReasonModal.style.display = 'flex';
            const timer = setTimeout(closeCtReasonModal, 15000);
        }

        function closeCtReasonModal() {
            ctReasonModal.style.display = 'none';
            setTimeout(showPreventionModal, 500);
        }

        function showPreventionModal() {
            preventionModal.style.display = 'flex';
            preventionModal.querySelector('.modal-content').classList.add('blinking-modal');
        }

        function closePreventionModal() {
            preventionModal.style.display = 'none';
            preventionModal.querySelector('.modal-content').classList.remove('blinking-modal');
            scrollToFinalBlocks();
        }

        function scrollToFinalBlocks() {
            conclusionBlock.style.display = 'block';
            finalInfo.style.display = 'block';
            authorSignature.style.display = 'block';
            conclusionBlock.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        function showNextBasicQuestion() {
            basicQuestions[currentBasicQuestion].style.display = 'none';
            currentBasicQuestion++;
            if (currentBasicQuestion < basicQuestions.length)
                basicQuestions[currentBasicQuestion].style.display = 'block';
            else
                showSuccessModal();
        }

        function showSuccessModal() {
            successModal.style.display = 'flex';
            setTimeout(() => {
                successModal.style.display = 'none';
                showVisualDiagnostics();
            }, 2000);
        }

        function showVisualDiagnostics() {
            knowledgeTest.style.display = 'none';
            visualDiagnostics.style.display = 'block';
            visualDiagnostics.scrollIntoView({ behavior: 'smooth' });
        }

        initTest();
    });
    </script>
</body>
</html>
